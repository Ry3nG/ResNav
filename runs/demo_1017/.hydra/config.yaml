env:
  name: blockage
  map:
    size_m:
    - 20.0
    - 20.0
    resolution_m: 0.2
    corridor_width_m:
    - 3.0
    - 5.0
    with_intersections: true
    blockage_prob: 0.6
    wall_thickness_m: 0.3
    pallet_width_m: 1.2
    pallet_length_m: 1
    start_x_m: 1.0
    goal_margin_x_m: 1.0
    waypoint_step_m: 0.3
    min_passage_m: 0.7
    min_pallet_x_offset_m: 1.0
    num_pallets_min: 3
    num_pallets_max: 5
  wrappers:
    frame_stack:
      enabled: true
      keys:
      - lidar
      k: 4
      flatten: true
  lidar:
    beams: 24
    fov_deg: 240
    max_range_m: 4.0
    noise_std_m: 0.03
    noise_enable: true
  dynamic_movers:
    enabled: false
    count: 0
  global_path:
    planner: astar
    replanning: false
  viz:
    show_inflated: false
    show_lidar: true
    show_actions: true
    fps: 20
robot:
  v_max: 1.5
  w_max: 2.0
  v_min: -0.3
  radius_m: 0.25
  controller:
    lookahead_m: 1.2
    speed_nominal: 1.0
reward:
  sparse:
    goal: 200.0
    collision: -200.0
    timeout: -50.0
  weights:
    progress: 1.0
    path: 0.08
    effort: 0.03
    sparse: 1.0
  path_penalty:
    lateral_weight: 1.0
    heading_weight: 0.5
  effort_penalty:
    lambda_v: 1.0
    lambda_w: 1.0
    lambda_jerk: 0.05
algo:
  policy: custom
  lr: 0.0003
  gamma: 0.99
  buffer_size: 1000000
  batch_size: 256
  tau: 0.005
  learning_starts: 10000
  train_freq: 1
  gradient_steps: 1
  ent_coef: auto
  target_update_interval: 1
  normalize_obs: true
  normalize_reward: false
  checkpoint:
    enabled: true
    every_steps: 100000
    keep_last_k: 3
    prefix: ckpt
    to_wandb: false
network:
  feature_extractor:
    lidar_branch: cnn1d
    lidar_k: 4
    lidar_beams: 24
    lidar_channels:
    - 16
    - 32
    - 16
    kernel_sizes:
    - 3
    - 5
    - 3
    out_dim: 128
    kin_dim: 16
    path_dim: 16
  actor:
    hidden_sizes:
    - 128
    - 128
    activation: relu
  critic:
    hidden_sizes:
    - 128
    - 128
    activation: relu
wandb:
  project: amr_nav_me5418
  entity: null
  group: debug
  tags:
  - phase1
  - ppo
  - residual
  mode: online
  upload_artifacts: true
run:
  dt: 0.1
  max_steps: 600
  vec_envs: 20
  total_timesteps: 10000000
  eval_interval_episodes: 50
  device: auto
  seed: 7399608
